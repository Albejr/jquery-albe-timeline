function fnDateFormat(a, b, c) { var d = a.split("-"), e = new Date(d[0], d[1] - 1, d[2]), f = (e.getDate() < 10 ? "0" : "") + e.getDate(), g = (e.getMonth() < 10 ? "0" : "") + e.getMonth(); switch (b) { case 1: return f + " " + c.monthNames[e.getMonth()].substring(0, 3); case 2: return f + "/" + g + "/" + e.getFullYear(); case 3: return f + " de " + c.monthNames[e.getMonth()] + " de " + e.getFullYear(); case 4: return c.dayNames[e.getDay()] + ", " + f + " de " + c.monthNames[e.getMonth()] + " de " + e.getFullYear(); default: return e.getFullYear() + "-" + g + "-" + f } } var languages = [{ "en-us": { monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], msgEmptyContent: "No information to display." }, "pt-br": { monthNames: ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"], dayNames: ["Domingo", "Segunda-feira", "Terça-feira", "Quarta-feira", "Quinta-feira", "Sexta-feira", "Sábado"], msgEmptyContent: "Sem informações a serem exibidas." } }]; jQuery.fn.albeTimeline = function (a, b) { var c = this, d = $.extend({ effect: "fadeInUp", showMenu: !0, language: "pt-br", sortDesc: !0 }, b), e = languages[0][d.language]; if ("string" == typeof a && (a = jQuery.parseJSON(a)), $.isEmptyObject(a)) console.warn(e.msgEmptyContent); else { a = $(a).sort(function (a, b) { return d.sortDesc ? b.time > a.time : a.time > b.time }); var f = $("<ul>").attr("id", "timeline-menu"), g = $("<section>").attr("id", "timeline"); $.each(a, function (a, b) { var c = new Date(b.time).getFullYear(), d = $(g).find("div.group" + c); if (0 === d.length) { d = $("<div>").attr("id", "year" + c).addClass("group" + c).text(c), $(g).append(d); var h = $("<a>").attr("href", "#year" + c).text(c); f.append($("<li>").append(h)) } var i = $("<div>").addClass("badge"); i.text(fnDateFormat(b.time, 1, e)); var j = $("<div>").addClass("panel").append(i); if (b.header) { var k = $("<div>").addClass("panel-heading"), l = $("<h4>").addClass("panel-title").text(b.header); k.append(l), j.append(k) } var m = $("<div>").addClass("panel-body"); if ($.each(b.body, function (a, b) { var c = $("<" + b.tag + ">"); $(b.attr).each(function () { $.each(this, function (a, b) { "cssclass" === a.toLowerCase() ? c.addClass(b) : c.attr(a, b) }) }), b.content && c.text(b.content), m.append(c) }), j.append(m), b.footer) { var n = $("<div>").addClass("panel-footer").text(b.footer); j.append(n) } var o = $("<article>").append(j); o.insertAfter(d) }); var h = $("<div>").addClass("badge").html("&nbsp;"), i = $("<div>").addClass("panel").append(h); g.append($("<article>").append(i)), g.append($("<div>").addClass("clearfix").css({ float: "none" })), $.each(g.find("article"), function (a, b) { $(this).addClass("animated " + d.effect), $(this).addClass(a % 2 == 0 ? "" : "inverted") }), d.showMenu && f.appendTo(c), g.appendTo(c) } };